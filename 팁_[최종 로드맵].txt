[ìµœì¢… ë¡œë“œë§µ] 

AI ë„êµ¬ ì¶”ì²œ í”Œë«í¼ ë°±ì—”ë“œ êµ¬ì¶• ë° ê³ ë„í™” ë¡œë“œë§µ  (claude_v1)
20ë…„ì°¨ ê°œë°œì ê´€ì ì—ì„œ í˜„ì¬ ì‚¬ì´íŠ¸ë¥¼ ë¶„ì„í•˜ê³ , ì‹¤ì œ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•œ ë‹¨ê³„ë³„ ê°œë°œê³„íšì„ ì œì‹œí•˜ê² ìŠµë‹ˆë‹¤.
ğŸ“Š í˜„ì¬ ì‚¬ì´íŠ¸ ë¶„ì„
ì‚¬ì´íŠ¸ ìœ í˜•: AI ë„êµ¬ ì¶”ì²œ/ê²€ìƒ‰ í”Œë«í¼ (ìœ ì‚¬ ì°¸ì¡°: ë„¥ëŒ€ë¹„, ì• í”Œë¦¬ì¼€ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬)
í•µì‹¬ ê¸°ëŠ¥:

AI ë„êµ¬ ê²€ìƒ‰/í•„í„°ë§
ì›Œí¬í”Œë¡œìš° ì¶”ì²œ
í”„ë¡¬í”„íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
ì‚¬ìš©ì ë§ì¶¤ ì¶”ì²œ


ğŸ¯ Phase 1: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶• (1-2ê°œì›”)
1.1 ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ ì„¤ì •
bash# í”„ë¡œì íŠ¸ êµ¬ì¡°
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/     # API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ models/         # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”œâ”€â”€ services/       # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ middleware/     # ì¸ì¦, ë¡œê¹… ë“±
â”‚   â”œâ”€â”€ routes/         # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ config/         # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ utils/          # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â””â”€â”€ jobs/           # ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…
â”œâ”€â”€ prisma/             # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ tests/              # í…ŒìŠ¤íŠ¸ íŒŒì¼
â””â”€â”€ docker/             # Docker ì„¤ì •
1.2 ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ
ì¶”ì²œ ìŠ¤íƒ (í™•ì¥ì„± + í•™ìŠµê³¡ì„  ê³ ë ¤):
javascript// Backend: Node.js + Express + TypeScript
// Database: PostgreSQL + Prisma ORM
// Auth: Supabase Auth (ê°„í¸) ë˜ëŠ” Firebase Auth
// Payment: Stripe (ê¸€ë¡œë²Œ) + í† ìŠ¤í˜ì´ë¨¼ì¸  (êµ­ë‚´)
// File Upload: AWS S3 ë˜ëŠ” Cloudinary
// Search: Elasticsearch ë˜ëŠ” MeiliSearch
// Cache: Redis
// Analytics: Mixpanel + Google Analytics 4
1.3 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„
sql-- ì‚¬ìš©ì ê´€ë¦¬
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  name VARCHAR(100),
  avatar_url TEXT,
  subscription_tier VARCHAR(20) DEFAULT 'free',
  usage_count INTEGER DEFAULT 0,
  monthly_limit INTEGER DEFAULT 10,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- AI ë„êµ¬ ì •ë³´ (ë©”ì¸ ì½˜í…ì¸ )
CREATE TABLE ai_tools (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(200) NOT NULL,
  description TEXT,
  category VARCHAR(100),
  subcategory VARCHAR(100),
  website_url TEXT,
  logo_url TEXT,
  pricing_type VARCHAR(50), -- free, freemium, paid
  pricing_info JSONB,
  features TEXT[],
  tags TEXT[],
  rating DECIMAL(3,2) DEFAULT 0,
  review_count INTEGER DEFAULT 0,
  popularity_score INTEGER DEFAULT 0,
  is_verified BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ì‚¬ìš©ì í™œë™ ì¶”ì  (ë­í‚¹/ì¶”ì²œìš©)
CREATE TABLE user_activities (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  activity_type VARCHAR(50), -- view, bookmark, search, download
  target_type VARCHAR(50), -- tool, workflow, prompt
  target_id UUID,
  metadata JSONB, -- ì¶”ê°€ ì •ë³´ (ê²€ìƒ‰ì–´, ì¹´í…Œê³ ë¦¬ ë“±)
  created_at TIMESTAMP DEFAULT NOW()
);

-- ë¶ë§ˆí¬/ì¦ê²¨ì°¾ê¸°
CREATE TABLE bookmarks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  tool_id UUID REFERENCES ai_tools(id),
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(user_id, tool_id)
);

-- ê²°ì œ ë‚´ì—­
CREATE TABLE payments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  amount DECIMAL(10,2),
  currency VARCHAR(3) DEFAULT 'KRW',
  payment_method VARCHAR(50),
  payment_provider VARCHAR(50), -- stripe, toss
  subscription_tier VARCHAR(20),
  status VARCHAR(20), -- pending, completed, failed, cancelled
  expires_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

ğŸ” Phase 2: ì¸ì¦ & ê²°ì œ ì‹œìŠ¤í…œ (2-3ì£¼)
2.1 Supabase ì¸ì¦ ì—°ë™
javascript// src/config/supabase.js
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.SUPABASE_URL
const supabaseAnonKey = process.env.SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseAnonKey)

// src/services/authService.js
export class AuthService {
  static async signUp(email, password, userData) {
    const { data, error } = await supabase.auth.signUp({
      email,
      password,
      options: {
        data: userData
      }
    })
    
    if (!error && data.user) {
      // ì‚¬ìš©ì ì •ë³´ë¥¼ ë³„ë„ í…Œì´ë¸”ì— ì €ì¥
      await this.createUserProfile(data.user)
    }
    
    return { data, error }
  }
  
  static async createUserProfile(user) {
    const { data, error } = await supabase
      .from('users')
      .insert([{
        id: user.id,
        email: user.email,
        name: user.user_metadata?.name,
        subscription_tier: 'free',
        monthly_limit: 10
      }])
    
    return { data, error }
  }
}
2.2 ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„
javascript// src/services/paymentService.js
import Stripe from 'stripe'

const stripe = new Stripe(process.env.STRIPE_SECRET_KEY)

export class PaymentService {
  static async createSubscription(userId, priceId) {
    // 1. ê³ ê° ìƒì„± ë˜ëŠ” ì¡°íšŒ
    const customer = await stripe.customers.create({
      metadata: { userId }
    })
    
    // 2. êµ¬ë… ìƒì„±
    const subscription = await stripe.subscriptions.create({
      customer: customer.id,
      items: [{ price: priceId }],
      payment_behavior: 'default_incomplete',
      expand: ['latest_invoice.payment_intent']
    })
    
    // 3. DBì— ê²°ì œ ì •ë³´ ì €ì¥
    await supabase.from('payments').insert([{
      user_id: userId,
      amount: subscription.items.data[0].price.unit_amount / 100,
      subscription_tier: this.getPlanFromPriceId(priceId),
      status: 'pending'
    }])
    
    return subscription
  }
  
  static getPlanFromPriceId(priceId) {
    const plans = {
      'price_pro_monthly': 'pro',
      'price_premium_monthly': 'premium'
    }
    return plans[priceId] || 'free'
  }
}

ğŸ“ˆ Phase 3: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ (4-6ì£¼)
3.1 AI ë„êµ¬ ê²€ìƒ‰ & í•„í„°ë§
javascript// src/services/searchService.js
export class SearchService {
  static async searchTools(query, filters = {}) {
    let queryBuilder = supabase
      .from('ai_tools')
      .select('*')
    
    // í…ìŠ¤íŠ¸ ê²€ìƒ‰ (PostgreSQL Full Text Search)
    if (query) {
      queryBuilder = queryBuilder.textSearch('search_vector', query)
    }
    
    // ì¹´í…Œê³ ë¦¬ í•„í„°
    if (filters.category) {
      queryBuilder = queryBuilder.eq('category', filters.category)
    }
    
    // ê°€ê²© í•„í„°
    if (filters.pricing) {
      queryBuilder = queryBuilder.eq('pricing_type', filters.pricing)
    }
    
    // ì¸ê¸°ë„ ìˆœ ì •ë ¬
    queryBuilder = queryBuilder.order('popularity_score', { ascending: false })
    
    const { data, error } = await queryBuilder
    
    // ê²€ìƒ‰ í™œë™ ê¸°ë¡
    if (query && !error) {
      await this.logSearchActivity(query, filters)
    }
    
    return { data, error }
  }
  
  static async logSearchActivity(query, filters) {
    await supabase.from('user_activities').insert([{
      activity_type: 'search',
      target_type: 'tool',
      metadata: { query, filters }
    }])
  }
}
3.2 ê°œì¸í™” ì¶”ì²œ ì‹œìŠ¤í…œ
javascript// src/services/recommendationService.js
export class RecommendationService {
  static async getPersonalizedRecommendations(userId, limit = 10) {
    // 1. ì‚¬ìš©ì í™œë™ íŒ¨í„´ ë¶„ì„
    const userActivities = await this.getUserActivityPattern(userId)
    
    // 2. í˜‘ì—… í•„í„°ë§ (ë¹„ìŠ·í•œ ì‚¬ìš©ìë“¤ì´ ì„ í˜¸í•˜ëŠ” ë„êµ¬)
    const collaborativeRecommendations = await this.getCollaborativeRecommendations(userId)
    
    // 3. ì½˜í…ì¸  ê¸°ë°˜ í•„í„°ë§ (ì‚¬ìš©ìê°€ ë³¸ ë„êµ¬ì™€ ìœ ì‚¬í•œ ë„êµ¬)
    const contentBasedRecommendations = await this.getContentBasedRecommendations(userId)
    
    // 4. ì¸ê¸°ë„ ê¸°ë°˜ (ì „ì²´ ì‚¬ìš©ì ê¸°ì¤€)
    const popularRecommendations = await this.getPopularRecommendations()
    
    // 5. ê°€ì¤‘ì¹˜ ê¸°ë°˜ìœ¼ë¡œ ìµœì¢… ì¶”ì²œ ëª©ë¡ ìƒì„±
    return this.combineRecommendations([
      { data: collaborativeRecommendations, weight: 0.4 },
      { data: contentBasedRecommendations, weight: 0.3 },
      { data: popularRecommendations, weight: 0.3 }
    ], limit)
  }
  
  static async getUserActivityPattern(userId) {
    const { data } = await supabase
      .from('user_activities')
      .select('target_id, activity_type, metadata')
      .eq('user_id', userId)
      .order('created_at', { ascending: false })
      .limit(100)
    
    return data
  }
}
3.3 ì‚¬ìš©ëŸ‰ ì œí•œ & êµ¬ë… ê´€ë¦¬
javascript// src/middleware/usageLimit.js
export const checkUsageLimit = async (req, res, next) => {
  const userId = req.user.id
  
  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
  const { data: user } = await supabase
    .from('users')
    .select('subscription_tier, usage_count, monthly_limit')
    .eq('id', userId)
    .single()
  
  // ë¬´ë£Œ ì‚¬ìš©ì ì œí•œ ì²´í¬
  if (user.subscription_tier === 'free' && user.usage_count >= user.monthly_limit) {
    return res.status(429).json({
      error: 'Monthly limit exceeded',
      message: 'ì›” ì‚¬ìš©ëŸ‰ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. í”„ë¡œ í”Œëœìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•´ì£¼ì„¸ìš”.',
      upgradeUrl: '/pricing'
    })
  }
  
  // ì‚¬ìš©ëŸ‰ ì¦ê°€
  await supabase
    .from('users')
    .update({ usage_count: user.usage_count + 1 })
    .eq('id', userId)
  
  next()
}

ğŸ¨ Phase 4: UX ê³ ë„í™” (3-4ì£¼)
4.1 ì‹¤ì‹œê°„ ê²€ìƒ‰ ìë™ì™„ì„±
javascript// src/services/autocompleteService.js
export class AutocompleteService {
  static async getSearchSuggestions(query) {
    // 1. ë„êµ¬ ì´ë¦„ ê¸°ë°˜ ìë™ì™„ì„±
    const toolSuggestions = await supabase
      .from('ai_tools')
      .select('name, category')
      .ilike('name', `%${query}%`)
      .limit(5)
    
    // 2. ì¸ê¸° ê²€ìƒ‰ì–´ ê¸°ë°˜ ìë™ì™„ì„±
    const popularQueries = await this.getPopularSearchQueries(query)
    
    // 3. ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ìë™ì™„ì„±
    const categorySuggestions = await this.getCategorySuggestions(query)
    
    return {
      tools: toolSuggestions.data,
      queries: popularQueries,
      categories: categorySuggestions
    }
  }
}
4.2 ê³ ê¸‰ í•„í„°ë§ & ì •ë ¬
javascript// í”„ë¡ íŠ¸ì—”ë“œ: ê³ ê¸‰ í•„í„° ì»´í¬ë„ŒíŠ¸
const AdvancedFilters = () => {
  const [filters, setFilters] = useState({
    categories: [],
    pricing: [],
    features: [],
    rating: { min: 0, max: 5 },
    popularity: 'high'
  })
  
  const applyFilters = async () => {
    const results = await searchAPI.searchWithFilters(searchQuery, filters)
    setSearchResults(results)
  }
  
  return (
    <div className="bg-white p-6 rounded-lg shadow-sm border">
      <h3 className="font-semibold mb-4">ê³ ê¸‰ í•„í„°</h3>
      
      {/* ì¹´í…Œê³ ë¦¬ ë‹¤ì¤‘ ì„ íƒ */}
      <FilterSection title="ì¹´í…Œê³ ë¦¬">
        <CheckboxGroup 
          options={categories}
          value={filters.categories}
          onChange={(value) => setFilters({...filters, categories: value})}
        />
      </FilterSection>
      
      {/* ê°€ê²© ë²”ìœ„ */}
      <FilterSection title="ê°€ê²©">
        <RadioGroup
          options={[
            { value: 'free', label: 'ë¬´ë£Œ' },
            { value: 'freemium', label: 'í”„ë¦¬ë¯¸ì—„' },
            { value: 'paid', label: 'ìœ ë£Œ' }
          ]}
          value={filters.pricing}
          onChange={(value) => setFilters({...filters, pricing: value})}
        />
      </FilterSection>
      
      {/* í‰ì  ìŠ¬ë¼ì´ë” */}
      <FilterSection title="í‰ì ">
        <RangeSlider
          min={0}
          max={5}
          step={0.1}
          value={[filters.rating.min, filters.rating.max]}
          onChange={([min, max]) => setFilters({...filters, rating: {min, max}})}
        />
      </FilterSection>
    </div>
  )
}

ğŸ“Š Phase 5: ë°ì´í„° ë¶„ì„ & ìµœì í™” (4-6ì£¼)
5.1 Google Analytics 4 + Mixpanel ì—°ë™
javascript// src/analytics/events.js
export const trackingEvents = {
  // ì‚¬ìš©ì í–‰ë™ ì¶”ì 
  toolView: (toolId, toolName, category) => {
    // GA4 ì´ë²¤íŠ¸
    gtag('event', 'view_item', {
      item_id: toolId,
      item_name: toolName,
      item_category: category,
      value: 1
    })
    
    // Mixpanel ì´ë²¤íŠ¸ (ë” ìƒì„¸í•œ ë¶„ì„ìš©)
    mixpanel.track('Tool Viewed', {
      tool_id: toolId,
      tool_name: toolName,
      category: category,
      user_tier: user.subscription_tier,
      session_duration: getSessionDuration()
    })
  },
  
  search: (query, resultsCount, filters) => {
    gtag('event', 'search', {
      search_term: query,
      results_count: resultsCount
    })
    
    mixpanel.track('Search Performed', {
      query: query,
      results_count: resultsCount,
      filters_used: Object.keys(filters).length,
      filters: filters
    })
  },
  
  subscription: (plan, amount) => {
    gtag('event', 'purchase', {
      transaction_id: generateTransactionId(),
      value: amount,
      currency: 'KRW',
      items: [{
        item_id: plan,
        item_name: `${plan} Plan`,
        category: 'Subscription',
        quantity: 1,
        price: amount
      }]
    })
  }
}
5.2 ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•
javascript// src/controllers/analyticsController.js
export class AnalyticsController {
  static async getDashboardData(req, res) {
    try {
      // ì‹¤ì‹œê°„ ì§€í‘œë“¤ì„ ë³‘ë ¬ë¡œ ì¡°íšŒ
      const [
        activeUsers,
        popularTools,
        searchTrends,
        conversionMetrics,
        revenueData
      ] = await Promise.all([
        this.getActiveUsers(),
        this.getPopularTools(),
        this.getSearchTrends(),
        this.getConversionMetrics(),
        this.getRevenueData()
      ])
      
      res.json({
        realTimeMetrics: {
          activeUsers: activeUsers.count,
          sessionsToday: activeUsers.sessions,
          conversionRate: conversionMetrics.rate,
          revenue: revenueData.today
        },
        popularTools,
        searchTrends,
        conversionFunnel: conversionMetrics.funnel
      })
    } catch (error) {
      res.status(500).json({ error: error.message })
    }
  }
  
  static async getSearchTrends() {
    // ìµœê·¼ 7ì¼ê°„ ì¸ê¸° ê²€ìƒ‰ì–´
    const { data } = await supabase
      .from('user_activities')
      .select('metadata->query as query')
      .eq('activity_type', 'search')
      .gte('created_at', new Date(Date.now() - 7*24*60*60*1000).toISOString())
      .not('metadata->query', 'is', null)
    
    // ê²€ìƒ‰ì–´ ë¹ˆë„ ê³„ì‚°
    const queryCount = data.reduce((acc, item) => {
      const query = item.query
      acc[query] = (acc[query] || 0) + 1
      return acc
    }, {})
    
    return Object.entries(queryCount)
      .sort(([,a], [,b]) => b - a)
      .slice(0, 10)
      .map(([query, count]) => ({ query, count }))
  }
}
5.3 A/B í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ
javascript// src/services/abTestService.js
export class ABTestService {
  static experiments = {
    'homepage_layout': {
      variants: ['original', 'grid_focus', 'category_first'],
      traffic_split: [34, 33, 33],
      active: true
    },
    'pricing_display': {
      variants: ['monthly_first', 'annual_first'],
      traffic_split: [50, 50],
      active: true
    }
  }
  
  static assignUserToExperiment(userId, experimentName) {
    const experiment = this.experiments[experimentName]
    if (!experiment || !experiment.active) return null
    
    // ì‚¬ìš©ì ID ê¸°ë°˜ í•´ì‹œë¡œ ì¼ê´€ëœ í• ë‹¹
    const hash = this.hashUserId(userId, experimentName)
    const bucket = hash % 100
    
    let currentSum = 0
    for (let i = 0; i < experiment.variants.length; i++) {
      currentSum += experiment.traffic_split[i]
      if (bucket < currentSum) {
        return experiment.variants[i]
      }
    }
    
    return experiment.variants[0]
  }
  
  static async trackConversion(userId, experimentName, variant, conversionType) {
    // ì „í™˜ ì´ë²¤íŠ¸ ê¸°ë¡
    await supabase.from('ab_test_conversions').insert([{
      user_id: userId,
      experiment_name: experimentName,
      variant: variant,
      conversion_type: conversionType,
      created_at: new Date()
    }])
  }
}

ğŸš€ Phase 6: ê³ ê¸‰ ê¸°ëŠ¥ & í™•ì¥ (6-8ì£¼)
6.1 AI ê¸°ë°˜ ê°œì¸í™” ì¶”ì²œ
javascript// src/services/aiRecommendationService.js
import OpenAI from 'openai'

export class AIRecommendationService {
  static openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY })
  
  static async generateSmartRecommendations(userId) {
    // 1. ì‚¬ìš©ì í”„ë¡œí•„ & í™œë™ ë°ì´í„° ìˆ˜ì§‘
    const userProfile = await this.buildUserProfile(userId)
    
    // 2. GPT-4ë¡œ ê°œì¸í™”ëœ ì¶”ì²œ ìƒì„±
    const recommendations = await this.openai.chat.completions.create({
      model: "gpt-4",
      messages: [{
        role: "system",
        content: `ë‹¹ì‹ ì€ AI ë„êµ¬ ì¶”ì²œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ í™œë™ íŒ¨í„´ê³¼ ì„ í˜¸ë„ë¥¼ ë¶„ì„í•˜ì—¬ 
                  ê°€ì¥ ì í•©í•œ AI ë„êµ¬ë“¤ì„ ì¶”ì²œí•´ì£¼ì„¸ìš”.`
      }, {
        role: "user", 
        content: `ì‚¬ìš©ì í”„ë¡œí•„: ${JSON.stringify(userProfile)}
                 ì´ ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ì í•©í•œ AI ë„êµ¬ 5ê°œë¥¼ ì¶”ì²œí•˜ê³ , 
                 ê°ê°ì— ëŒ€í•œ ì¶”ì²œ ì´ìœ ë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”.`
      }],
      temperature: 0.7,
      max_tokens: 1000
    })
    
    // 3. ì¶”ì²œ ê²°ê³¼ë¥¼ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ íŒŒì‹±
    const parsedRecommendations = this.parseAIRecommendations(
      recommendations.choices[0].message.content
    )
    
    return parsedRecommendations
  }
  
  static async buildUserProfile(userId) {
    // ì‚¬ìš©ìì˜ ìµœê·¼ í™œë™, ì„ í˜¸ ì¹´í…Œê³ ë¦¬, ì‚¬ìš© íŒ¨í„´ ë“±ì„ ì¢…í•©
    const activities = await supabase
      .from('user_activities')
      .select(`
        activity_type,
        target_type,
        metadata,
        ai_tools (name, category, features)
      `)
      .eq('user_id', userId)
      .order('created_at', { ascending: false })
      .limit(50)
    
    return {
      preferred_categories: this.extractPreferredCategories(activities.data),
      usage_patterns: this.analyzeUsagePatterns(activities.data),
      feature_preferences: this.extractFeaturePreferences(activities.data)
    }
  }
}
6.2 ì†Œì…œ ê¸°ëŠ¥ & ì»¤ë®¤ë‹ˆí‹°
javascript// ì‚¬ìš©ì ë¦¬ë·° & í‰ì  ì‹œìŠ¤í…œ
CREATE TABLE tool_reviews (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  tool_id UUID REFERENCES ai_tools(id),
  rating INTEGER CHECK (rating >= 1 AND rating <= 5),
  review_text TEXT,
  pros TEXT[],
  cons TEXT[],
  use_case TEXT,
  helpful_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(user_id, tool_id)
);

// ì‚¬ìš©ì ì»¬ë ‰ì…˜ (íë ˆì´ì…˜)
CREATE TABLE user_collections (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  title VARCHAR(200),
  description TEXT,
  is_public BOOLEAN DEFAULT false,
  tools JSONB, -- ë„êµ¬ IDë“¤ê³¼ ë©”ëª¨
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);
6.3 API ì„œë¹„ìŠ¤ ì œê³µ
javascript// src/routes/api/v1.js - ì™¸ë¶€ ê°œë°œììš© API
export const apiV1Router = express.Router()

// API í‚¤ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
const authenticateAPIKey = async (req, res, next) => {
  const apiKey = req.header('X-API-Key')
  if (!apiKey) {
    return res.status(401).json({ error: 'API key required' })
  }
  
  const { data: apiKeyData } = await supabase
    .from('api_keys')
    .select('user_id, rate_limit, is_active')
    .eq('key_hash', hashAPIKey(apiKey))
    .single()
  
  if (!apiKeyData || !apiKeyData.is_active) {
    return res.status(401).json({ error: 'Invalid API key' })
  }
  
  req.apiUser = apiKeyData
  next()
}

// ë„êµ¬ ê²€ìƒ‰ API
apiV1Router.get('/tools/search', authenticateAPIKey, rateLimiter, async (req, res) => {
  const { q: query, category, limit = 20 } = req.query
  
  try {
    const results = await SearchService.searchTools(query, { category })
    
    // API ì‚¬ìš©ëŸ‰ ì¶”ì 
    await trackAPIUsage(req.apiUser.user_id, 'tools.search', results.data.length)
    
    res.json({
      success: true,
      data: results.data.slice(0, limit),
      total: results.data.length,
      query: query
    })
  } catch (error) {
    res.status(500).json({ error: error.message })
  }
})

ğŸ”§ Phase 7: ì„±ëŠ¥ ìµœì í™” & ìš´ì˜ (ì§€ì†ì )
7.1 ìºì‹± ì „ëµ
javascript// src/services/cacheService.js
import Redis from 'ioredis'

export class CacheService {
  static redis = new Redis(process.env.REDIS_URL)
  
  static async cacheSearchResults(query, filters, results) {
    const cacheKey = `search:${this.generateCacheKey(query, filters)}`
    await this.redis.setex(cacheKey, 300, JSON.stringify(results)) // 5ë¶„ ìºì‹œ
  }
  
  static async getCachedSearchResults(query, filters) {
    const cacheKey = `search:${this.generateCacheKey(query, filters)}`
    const cached = await this.redis.get(cacheKey)
    return cached ? JSON.parse(cached) : null
  }
  
  // ì¸ê¸° ë„êµ¬ë“¤ì€ ë” ê¸´ ìºì‹œ
  static async cachePopularTools(tools) {
    await this.redis.setex('popular_tools', 3600, JSON.stringify(tools)) // 1ì‹œê°„
  }
}
7.2 ëª¨ë‹ˆí„°ë§ & ì•Œë¦¼
javascript// src/monitoring/healthCheck.js
export const healthCheckRoutes = (app) => {
  app.get('/health', async (req, res) => {
    const checks = await Promise.all([
      checkDatabase(),
      checkRedis(), 
      checkExternalAPIs(),
      checkDiskSpace(),
      checkMemoryUsage()
    ])
    
    const isHealthy = checks.every(check => check.status === 'ok')
    
    res.status(isHealthy ? 200 : 503).json({
      status: isHealthy ? 'healthy' : 'unhealthy',
      timestamp: new Date().toISOString(),
      checks: checks
    })
  })
}

// ì•Œë¦¼ ì‹œìŠ¤í…œ
export const alertingService = {
  async sendAlert(type, message, severity = 'warning') {
    // Slack ì›¹í›…ìœ¼ë¡œ ì•Œë¦¼
    await fetch(process.env.SLACK_WEBHOOK_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        text: `ğŸš¨ [${severity.toUpperCase()}] ${type}: ${message}`,
        channel: '#alerts'
      })
    })
    
    // ì‹¬ê°í•œ ê²½ìš° ì´ë©”ì¼ ì•Œë¦¼
    if (severity === 'critical') {
      await sendEmailAlert(message)
    }
  }
}

ğŸ“‹ ë‹¨ê³„ë³„ ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸
âœ… Phase 1 ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê¸°ë³¸ ì¸í”„ë¼)

 Node.js + Express + TypeScript í”„ë¡œì íŠ¸ ì„¤ì •
 PostgreSQL + Prisma ORM ì„¤ì •
 Docker ê°œë°œ í™˜ê²½ êµ¬ì„±
 ê¸°ë³¸ API êµ¬ì¡° ì„¤ê³„
 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„±
 í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ë“¤)

âœ… Phase 2 ì²´í¬ë¦¬ìŠ¤íŠ¸ (ì¸ì¦ & ê²°ì œ)

 Supabase í”„ë¡œì íŠ¸ ìƒì„± ë° ì„¤ì •
 íšŒì›ê°€ì…/ë¡œê·¸ì¸ API êµ¬í˜„
 JWT í† í° ê¸°ë°˜ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
 Stripe ê³„ì • ì„¤ì • ë° ì›¹í›… êµ¬í˜„
 êµ¬ë… í”Œëœ ìƒì„± (Free/Pro/Premium)
 ê²°ì œ ì™„ë£Œ í›„ ì‚¬ìš©ì ë“±ê¸‰ ì—…ë°ì´íŠ¸

âœ… Phase 3 ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•µì‹¬ ê¸°ëŠ¥)

 AI ë„êµ¬ CRUD API êµ¬í˜„
 ì „ë¬¸ ê²€ìƒ‰ (Full Text Search) êµ¬í˜„
 í•„í„°ë§ & ì •ë ¬ API
 ì‚¬ìš©ëŸ‰ ì œí•œ ë¯¸ë“¤ì›¨ì–´
 ë¶ë§ˆí¬/ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥
 ê¸°ë³¸ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

âœ… Phase 4 ì²´í¬ë¦¬ìŠ¤íŠ¸ (UX ê³ ë„í™”)

 ì‹¤ì‹œê°„ ìë™ì™„ì„± API
 ê³ ê¸‰ í•„í„°
ì¬ì‹œë„ê³„ì†í¸ì§‘âœ… Phase 4 ì²´í¬ë¦¬ìŠ¤íŠ¸ (UX ê³ ë„í™”) - ê³„ì†

 ì‹¤ì‹œê°„ ìë™ì™„ì„± API
 ê³ ê¸‰ í•„í„° UI/UX ê°œì„ 
 ë¬´í•œ ìŠ¤í¬ë¡¤ í˜ì´ì§€ë„¤ì´ì…˜
 ê²€ìƒ‰ íˆìŠ¤í† ë¦¬ ì €ì¥/ê´€ë¦¬
 ì‚¬ìš©ì ì˜¨ë³´ë”© í”Œë¡œìš°
 ëª¨ë°”ì¼ ìµœì í™” (PWA ê³ ë ¤)

âœ… Phase 5 ì²´í¬ë¦¬ìŠ¤íŠ¸ (ë°ì´í„° ë¶„ì„)

 Google Analytics 4 ì„¤ì •
 Mixpanel ì´ë²¤íŠ¸ íŠ¸ë˜í‚¹ êµ¬í˜„
 ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ API
 A/B í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
 ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë¦¬í¬íŠ¸
 ë¹„ì¦ˆë‹ˆìŠ¤ KPI ëª¨ë‹ˆí„°ë§

âœ… Phase 6 ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê³ ê¸‰ ê¸°ëŠ¥)

 OpenAI API ì—°ë™
 AI ê¸°ë°˜ ê°œì¸í™” ì¶”ì²œ
 ì‚¬ìš©ì ë¦¬ë·° & í‰ì  ì‹œìŠ¤í…œ
 ì»¬ë ‰ì…˜/íë ˆì´ì…˜ ê¸°ëŠ¥
 ì†Œì…œ ê³µìœ  ê¸°ëŠ¥
 ì™¸ë¶€ API ì„œë¹„ìŠ¤ ì œê³µ

âœ… Phase 7 ì²´í¬ë¦¬ìŠ¤íŠ¸ (ìµœì í™” & ìš´ì˜)

 Redis ìºì‹± êµ¬í˜„
 CDN ì„¤ì • (ì´ë¯¸ì§€/ì •ì  íŒŒì¼)
 ì„œë²„ ëª¨ë‹ˆí„°ë§ & ì•Œë¦¼
 ìë™ ë°±ì—… ì‹œìŠ¤í…œ
 ë¡œê·¸ ê´€ë¦¬ (ELK Stack)
 ë³´ì•ˆ ê°•í™” (HTTPS, CORS, Rate Limiting)


ğŸ’° ìˆ˜ìµí™” ì „ëµ êµ¬í˜„
êµ¬ë… ëª¨ë¸ ìƒì„¸ ì„¤ê³„
javascript// êµ¬ë… í”Œëœ ì •ì˜
const SUBSCRIPTION_PLANS = {
  free: {
    name: 'ë¬´ë£Œ',
    price: 0,
    limits: {
      monthly_searches: 10,
      bookmarks: 5,
      collections: 1,
      api_calls: 0
    },
    features: ['ê¸°ë³¸ ê²€ìƒ‰', 'ë„êµ¬ ì •ë³´ ì—´ëŒ']
  },
  
  pro: {
    name: 'í”„ë¡œ',
    price: 9900, // ì›” 9,900ì›
    limits: {
      monthly_searches: 500,
      bookmarks: 100,
      collections: 10,
      api_calls: 1000
    },
    features: [
      'ë¬´ì œí•œ ê²€ìƒ‰',
      'ê³ ê¸‰ í•„í„°ë§',
      'AI ì¶”ì²œ',
      'ì‚¬ìš© í†µê³„',
      'ìš°ì„  ì§€ì›'
    ]
  },
  
  enterprise: {
    name: 'ì—”í„°í”„ë¼ì´ì¦ˆ',
    price: 29900, // ì›” 29,900ì›
    limits: {
      monthly_searches: -1, // ë¬´ì œí•œ
      bookmarks: -1,
      collections: -1,
      api_calls: 10000
    },
    features: [
      'ëª¨ë“  í”„ë¡œ ê¸°ëŠ¥',
      'API ì•¡ì„¸ìŠ¤',
      'íŒ€ í˜‘ì—…',
      'í™”ì´íŠ¸ë¼ë²¨',
      'ì „ë‹´ ì§€ì›'
    ]
  }
}
ì¶”ê°€ ìˆ˜ìµì› êµ¬í˜„
javascript// 1. ì œíœ´ ë§ˆì¼€íŒ… (ì–´í•„ë¦¬ì—ì´íŠ¸)
CREATE TABLE affiliate_links (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  tool_id UUID REFERENCES ai_tools(id),
  affiliate_url TEXT,
  commission_rate DECIMAL(5,4), -- 5.25% = 0.0525
  clicks INTEGER DEFAULT 0,
  conversions INTEGER DEFAULT 0,
  revenue DECIMAL(10,2) DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);

// 2. í”„ë¦¬ë¯¸ì—„ ë„êµ¬ ë“±ë¡ë¹„
CREATE TABLE premium_listings (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  tool_id UUID REFERENCES ai_tools(id),
  plan_type VARCHAR(50), -- featured, sponsored, premium
  monthly_fee DECIMAL(8,2),
  features JSONB, -- ë°°ì§€, ìƒìœ„ ë…¸ì¶œ, ë¶„ì„ ë“±
  starts_at TIMESTAMP,
  expires_at TIMESTAMP,
  is_active BOOLEAN DEFAULT true
);

// 3. ë°ì´í„° ì¸ì‚¬ì´íŠ¸ íŒë§¤
export class DataInsightsService {
  static async generateMarketReport(category, timeframe = '30d') {
    const insights = await supabase.rpc('generate_market_insights', {
      p_category: category,
      p_timeframe: timeframe
    })
    
    return {
      category_trends: insights.trends,
      popular_tools: insights.top_tools,
      user_preferences: insights.preferences,
      market_size: insights.market_data,
      growth_rate: insights.growth_metrics
    }
  }
}

ğŸ›¡ï¸ ë³´ì•ˆ & ì»´í”Œë¼ì´ì–¸ìŠ¤
ë°ì´í„° ë³´í˜¸ êµ¬í˜„
javascript// GDPR/ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜
CREATE TABLE data_processing_consents (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  consent_type VARCHAR(100), -- analytics, marketing, third_party
  granted BOOLEAN,
  granted_at TIMESTAMP,
  withdrawn_at TIMESTAMP,
  ip_address INET,
  user_agent TEXT
);

// ë°ì´í„° ì‚­ì œ ìš”ì²­ ì²˜ë¦¬
export class PrivacyService {
  static async processDataDeletionRequest(userId) {
    // 1. ê°œì¸ ì‹ë³„ ì •ë³´ ìµëª…í™”
    await supabase
      .from('users')
      .update({
        email: `deleted_user_${userId}@anonymized.com`,
        name: null,
        avatar_url: null,
        phone: null
      })
      .eq('id', userId)
    
    // 2. í™œë™ ë°ì´í„°ëŠ” ìµëª…í™”í•˜ì—¬ ë³´ì¡´ (ë¶„ì„ìš©)
    await supabase
      .from('user_activities')
      .update({ user_id: null })
      .eq('user_id', userId)
    
    // 3. ê°œì¸ ì»¬ë ‰ì…˜ ë“±ì€ ì™„ì „ ì‚­ì œ
    await supabase
      .from('user_collections')
      .delete()
      .eq('user_id', userId)
    
    return { success: true, deletedAt: new Date() }
  }
}
API ë³´ì•ˆ ê°•í™”
javascript// Rate Limiting êµ¬í˜„
import rateLimit from 'express-rate-limit'

const createRateLimiter = (windowMs, max, message) => {
  return rateLimit({
    windowMs,
    max,
    message: { error: message },
    standardHeaders: true,
    legacyHeaders: false,
    // Redis store for distributed rate limiting
    store: new RedisStore({
      client: redis,
      prefix: 'rl:'
    })
  })
}

// ë‹¤ì–‘í•œ ì—”ë“œí¬ì¸íŠ¸ë³„ ì œí•œ
export const rateLimiters = {
  search: createRateLimiter(60 * 1000, 100, 'Too many search requests'),
  auth: createRateLimiter(15 * 60 * 1000, 5, 'Too many login attempts'),
  api: createRateLimiter(60 * 1000, 1000, 'API rate limit exceeded')
}

// SQL Injection ë°©ì§€
export const sanitizeInput = (input) => {
  if (typeof input !== 'string') return input
  
  // XSS ë°©ì§€
  return input
    .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
    .replace(/javascript:/gi, '')
    .replace(/on\w+\s*=/gi, '')
}

ğŸ“ˆ ì„±ì¥ ì „ëµ & ë§ˆì¼€íŒ… ìë™í™”
SEO ìµœì í™”
javascript// ë™ì  ë©”íƒ€íƒœê·¸ ìƒì„±
export const generateSEOMetadata = (tool) => {
  return {
    title: `${tool.name} - AI ë„êµ¬ ë¦¬ë·° ë° ì •ë³´ | ì´ì§€í”½`,
    description: `${tool.name}ì— ëŒ€í•œ ìƒì„¸í•œ ë¦¬ë·°, ê°€ê²© ì •ë³´, ì‚¬ìš©ë²•ì„ í™•ì¸í•˜ì„¸ìš”. ${tool.category} ë¶„ì•¼ ìµœê³ ì˜ AI ë„êµ¬ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.`,
    keywords: [
      tool.name,
      tool.category,
      'AI ë„êµ¬',
      'ì¸ê³µì§€ëŠ¥',
      'ìë™í™”',
      ...tool.tags
    ].join(', '),
    openGraph: {
      title: `${tool.name} - ${tool.category} AI ë„êµ¬`,
      description: tool.description,
      image: tool.logo_url,
      url: `https://easypick.co.kr/tools/${tool.id}`
    }
  }
}

// ì‚¬ì´íŠ¸ë§µ ìë™ ìƒì„±
export const generateSitemap = async () => {
  const tools = await supabase
    .from('ai_tools')
    .select('id, name, updated_at')
    .eq('is_active', true)
  
  const urls = tools.data.map(tool => ({
    url: `/tools/${tool.id}`,
    lastModified: tool.updated_at,
    changeFrequency: 'weekly',
    priority: 0.8
  }))
  
  return generateXMLSitemap(urls)
}
ì´ë©”ì¼ ë§ˆì¼€íŒ… ìë™í™”
javascript// ì‚¬ìš©ì ì„¸ê·¸ë¨¼í…Œì´ì…˜
export class EmailMarketingService {
  static async segmentUsers() {
    const segments = {
      // ì‹ ê·œ ì‚¬ìš©ì (ê°€ì… í›„ 7ì¼ ì´ë‚´)
      new_users: await supabase
        .from('users')
        .select('*')
        .gte('created_at', new Date(Date.now() - 7*24*60*60*1000).toISOString()),
      
      // í™œì„± ì‚¬ìš©ì (ìµœê·¼ 30ì¼ í™œë™)
      active_users: await supabase
        .from('users')
        .select('*, user_activities!inner(*)')
        .gte('user_activities.created_at', new Date(Date.now() - 30*24*60*60*1000).toISOString()),
      
      // íœ´ë©´ ì‚¬ìš©ì (30ì¼ ì´ìƒ ë¹„í™œì„±)
      dormant_users: await supabase
        .from('users')
        .select('*')
        .not('id', 'in', `(SELECT DISTINCT user_id FROM user_activities WHERE created_at > '${new Date(Date.now() - 30*24*60*60*1000).toISOString()}')`),
      
      // í”„ë¦¬ë¯¸ì—„ í›„ë³´ (ë¬´ë£Œ í•œë„ ì„ë°•)
      upgrade_candidates: await supabase
        .from('users')
        .select('*')
        .eq('subscription_tier', 'free')
        .gte('usage_count', 8) // 10 ì¤‘ 8 ì‚¬ìš©
    }
    
    return segments
  }
  
  static async sendPersonalizedNewsletter(userId) {
    const user = await supabase
      .from('users')
      .select('*, user_activities(*)')
      .eq('id', userId)
      .single()
    
    // ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ê¸°ë°˜ ì½˜í…ì¸  ìƒì„±
    const recommendations = await AIRecommendationService
      .generateSmartRecommendations(userId)
    
    const emailContent = await this.generateNewsletterContent({
      user: user.data,
      recommendations,
      trending_tools: await this.getTrendingTools(),
      personalized_tips: await this.getPersonalizedTips(userId)
    })
    
    return await this.sendEmail(user.data.email, emailContent)
  }
}

ğŸš€ í™•ì¥ ê³„íš & ë¡œë“œë§µ
6ê°œì›” í›„ í™•ì¥ ê¸°ëŠ¥
javascript// 1. AI ì—ì´ì „íŠ¸ ë¹Œë”
const AI_AGENT_FEATURES = {
  workflow_automation: {
    description: 'ì—¬ëŸ¬ AI ë„êµ¬ë¥¼ ì—°ê²°í•œ ì›Œí¬í”Œë¡œìš° ìë™í™”',
    implementation: 'Node-RED ìŠ¤íƒ€ì¼ ë“œë˜ê·¸ì•¤ë“œë¡­'
  },
  
  custom_prompts: {
    description: 'ì‚¬ìš©ì ë§ì¶¤ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ìƒì„±ê¸°',
    implementation: 'GPT-4 ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ìµœì í™”'
  },
  
  integration_hub: {
    description: 'Zapier, Make.com ë“±ê³¼ ì—°ë™',
    implementation: 'Webhook ê¸°ë°˜ í†µí•© í”Œë«í¼'
  }
}

// 2. ëª¨ë°”ì¼ ì•± (React Native)
const MOBILE_APP_FEATURES = {
  offline_mode: 'ì˜¤í”„ë¼ì¸ì—ì„œë„ ì¦ê²¨ì°¾ê¸° ë„êµ¬ í™•ì¸',
  push_notifications: 'ìƒˆë¡œìš´ ë„êµ¬ ì¶œì‹œ ì•Œë¦¼',
  voice_search: 'ìŒì„±ìœ¼ë¡œ ë„êµ¬ ê²€ìƒ‰',
  ar_preview: 'ARë¡œ ë„êµ¬ ì‚¬ìš©ë²• ë¯¸ë¦¬ë³´ê¸°'
}

// 3. ê¸°ì—…ìš© ì†”ë£¨ì…˜
const ENTERPRISE_FEATURES = {
  team_management: 'íŒ€ ë‹¨ìœ„ ê³„ì • ê´€ë¦¬',
  usage_analytics: 'íŒ€ AI ë„êµ¬ ì‚¬ìš© ë¶„ì„',
  custom_branding: 'í™”ì´íŠ¸ë¼ë²¨ ì†”ë£¨ì…˜',
  sso_integration: 'SAML, OAuth SSO ì§€ì›'
}
ê¸€ë¡œë²Œ í™•ì¥ ì¤€ë¹„
javascript// ë‹¤êµ­ì–´ ì§€ì› (i18n)
const SUPPORTED_LANGUAGES = {
  ko: { name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
  en: { name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  ja: { name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  es: { name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' }
}

// ì§€ì—­ë³„ ê²°ì œ ìˆ˜ë‹¨
const PAYMENT_METHODS_BY_REGION = {
  KR: ['card', 'kakaopay', 'naverpay', 'payco'],
  US: ['card', 'paypal', 'apple_pay', 'google_pay'],
  JP: ['card', 'konbini', 'bank_transfer'],
  CN: ['alipay', 'wechat_pay', 'unionpay'],
  EU: ['card', 'sepa', 'klarna', 'sofort']
}

// ì§€ì—­ë³„ ì½˜í…ì¸  íë ˆì´ì…˜
export class LocalizationService {
  static async getLocalizedContent(country, language) {
    // ì§€ì—­ë³„ ì¸ê¸° ë„êµ¬
    const localPopularTools = await supabase
      .from('tool_usage_stats')
      .select('tool_id, usage_count')
      .eq('country', country)
      .order('usage_count', { ascending: false })
      .limit(20)
    
    // ì§€ì—­ë³„ íŠ¸ë Œë“œ
    const localTrends = await this.getRegionalTrends(country)
    
    return {
      popular_tools: localPopularTools.data,
      trending_categories: localTrends,
      localized_descriptions: await this.translateContent(language)
    }
  }
}

ğŸ“Š ì„±ê³µ ì§€í‘œ (KPI) ì •ì˜
í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
javascriptconst BUSINESS_KPIS = {
  // ì‚¬ìš©ì ê´€ë ¨
  user_metrics: {
    DAU: 'ì¼ê°„ í™œì„± ì‚¬ìš©ì',
    MAU: 'ì›”ê°„ í™œì„± ì‚¬ìš©ì', 
    retention_rate: 'ì‚¬ìš©ì ìœ ì§€ìœ¨',
    churn_rate: 'ì´íƒˆë¥ ',
    time_to_activation: 'ì²« ì˜ë¯¸ìˆëŠ” í–‰ë™ê¹Œì§€ ì‹œê°„'
  },
  
  // ìˆ˜ìµ ê´€ë ¨  
  revenue_metrics: {
    MRR: 'ì›”ê°„ ë°˜ë³µ ìˆ˜ìµ',
    ARR: 'ì—°ê°„ ë°˜ë³µ ìˆ˜ìµ',
    ARPU: 'ì‚¬ìš©ìë‹¹ í‰ê·  ìˆ˜ìµ',
    LTV: 'ê³ ê° ìƒì•  ê°€ì¹˜',
    CAC: 'ê³ ê° íšë“ ë¹„ìš©',
    payback_period: 'íˆ¬ì íšŒìˆ˜ ê¸°ê°„'
  },
  
  // ì œí’ˆ ê´€ë ¨
  product_metrics: {
    search_success_rate: 'ê²€ìƒ‰ ì„±ê³µë¥ ',
    tool_discovery_rate: 'ë„êµ¬ ë°œê²¬ìœ¨', 
    bookmark_conversion: 'ë¶ë§ˆí¬ ì „í™˜ìœ¨',
    subscription_conversion: 'êµ¬ë… ì „í™˜ìœ¨',
    feature_adoption: 'ê¸°ëŠ¥ ì±„íƒë¥ '
  }
}

// KPI ëŒ€ì‹œë³´ë“œ ìƒì„±
export class KPIDashboard {
  static async generateReport(timeframe = '30d') {
    const startDate = new Date(Date.now() - 30*24*60*60*1000)
    
    const metrics = await Promise.all([
      this.calculateUserMetrics(startDate),
      this.calculateRevenueMetrics(startDate), 
      this.calculateProductMetrics(startDate)
    ])
    
    return {
      period: timeframe,
      generated_at: new Date(),
      user_metrics: metrics[0],
      revenue_metrics: metrics[1],
      product_metrics: metrics[2],
      alerts: await this.generateAlerts(metrics)
    }
  }
  
  static async generateAlerts(metrics) {
    const alerts = []
    
    // ì´íƒˆë¥  ì¦ê°€ ì•Œë¦¼
    if (metrics[0].churn_rate > 0.1) {
      alerts.push({
        type: 'warning',
        message: `ì´íƒˆë¥ ì´ ${(metrics[0].churn_rate * 100).toFixed(1)}%ë¡œ ì¦ê°€í–ˆìŠµë‹ˆë‹¤.`,
        action: 'ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ë° ê°œì„  í•„ìš”'
      })
    }
    
    // êµ¬ë… ì „í™˜ìœ¨ ì €ì¡° ì•Œë¦¼
    if (metrics[2].subscription_conversion < 0.02) {
      alerts.push({
        type: 'warning', 
        message: `êµ¬ë… ì „í™˜ìœ¨ì´ ${(metrics[2].subscription_conversion * 100).toFixed(2)}%ë¡œ ì €ì¡°í•©ë‹ˆë‹¤.`,
        action: 'í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ê°€ì¹˜ ê°•í™” ë° ì˜¨ë³´ë”© ê°œì„  í•„ìš”'
      })
    }
    
    return alerts
  }
}

ğŸ¯ ìµœì¢… ì‹¤í–‰ ìš”ì•½
ìš°ì„ ìˆœìœ„ë³„ ê°œë°œ ìˆœì„œ
ğŸš€ ì¦‰ì‹œ ì‹œì‘ (1-2ì£¼)

Supabase ê³„ì • ìƒì„± ë° ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ êµ¬ì¶•
ê¸°ë³¸ ì¸ì¦ ì‹œìŠ¤í…œ ì—°ë™ (íšŒì›ê°€ì…/ë¡œê·¸ì¸)
AI ë„êµ¬ ë°ì´í„° ìˆ˜ì§‘ ë° ì…ë ¥

âš¡ ë‹¨ê¸° ëª©í‘œ (1ê°œì›”)

ê²€ìƒ‰ ë° í•„í„°ë§ ê¸°ëŠ¥ ì™„ì„±
ê¸°ë³¸ ê²°ì œ ì‹œìŠ¤í…œ (Stripe) ì—°ë™
ì‚¬ìš©ëŸ‰ ì œí•œ ë° êµ¬ë… ê´€ë¦¬
GA4 ë¶„ì„ ì—°ë™

ğŸ¨ ì¤‘ê¸° ëª©í‘œ (2-3ê°œì›”)

ê°œì¸í™” ì¶”ì²œ ì‹œìŠ¤í…œ êµ¬ì¶•
ì‚¬ìš©ì ë¦¬ë·° ë° í‰ì  ê¸°ëŠ¥
ê³ ê¸‰ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
ëª¨ë°”ì¼ ìµœì í™”

ğŸš€ ì¥ê¸° ëª©í‘œ (6ê°œì›”+)

AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ
API ì„œë¹„ìŠ¤ ì¶œì‹œ
ê¸°ì—…ìš© ì†”ë£¨ì…˜ ê°œë°œ
ê¸€ë¡œë²Œ í™•ì¥

ì˜ˆìƒ ê°œë°œ ë¹„ìš© ë° ë¦¬ì†ŒìŠ¤
ì¸ë ¥

í’€ìŠ¤íƒ ê°œë°œì 1ëª… (ë³¸ì¸)
ë””ìì´ë„ˆ 1ëª… (ì™¸ì£¼ ê°€ëŠ¥)
ë°ì´í„° ë¶„ì„ê°€ 1ëª… (Part-time)

ì›”ê°„ ìš´ì˜ë¹„ìš©

ì„œë²„ ë¹„ìš©: $50-200
ë°ì´í„°ë² ì´ìŠ¤: $25-100
ì™¸ë¶€ API: $100-500
ë„ë©”ì¸/SSL: $10-50
ì´ ì˜ˆìƒ: ì›” 20-90ë§Œì›

ì„±ê³µì„ ìœ„í•œ í•µì‹¬ íŒ

MVP ë¨¼ì €: ì™„ë²½í•œ ê¸°ëŠ¥ë³´ë‹¤ í•µì‹¬ ê°€ì¹˜ë¥¼ ë¹ ë¥´ê²Œ ê²€ì¦
ì‚¬ìš©ì í”¼ë“œë°±: ì´ˆê¸° ì‚¬ìš©ì 100ëª…ì˜ í”¼ë“œë°±ì´ ê°€ì¥ ì¤‘ìš”
ë°ì´í„° ê¸°ë°˜ ê²°ì •: ëª¨ë“  ê¸°ëŠ¥ ì¶”ê°€ëŠ” ë°ì´í„°ë¡œ ê²€ì¦
ì ì§„ì  í™•ì¥: ì•ˆì •ì„±ì„ í™•ë³´í•œ í›„ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶•: ì‚¬ìš©ìë“¤ì´ ì„œë¡œ ë„ì›€ì„ ì£¼ëŠ” ìƒíƒœê³„ ì¡°ì„±