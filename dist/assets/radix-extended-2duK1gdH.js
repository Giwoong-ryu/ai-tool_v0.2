import{r as e,j as r,c as t,P as n,u as a,a as o}from"./radix-core-Dr_t8bML.js";import{r as s}from"./react-vendor-DHbHB7JU.js";var i,u,c={exports:{}},d={};var f=(u||(u=1,c.exports=function(){if(i)return d;i=1;var e=s(),r="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},t=e.useState,n=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(a){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var s=r(),i=t({inst:{value:s,getSnapshot:r}}),c=i[0].inst,d=i[1];return a(function(){c.value=s,c.getSnapshot=r,u(c)&&d({inst:c})},[e,s,r]),n(function(){return u(c)&&d({inst:c}),e(function(){u(c)&&d({inst:c})})},[e]),o(s),s};return d.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:c,d}()),c.exports);function l(){return()=>{}}var v="Avatar",[g,m]=t(v),[p,S]=g(v),w=e.forwardRef((t,a)=>{const{__scopeAvatar:o,...s}=t,[i,u]=e.useState("idle");return r.jsx(p,{scope:o,imageLoadingStatus:i,onImageLoadingStatusChange:u,children:r.jsx(n.span,{...s,ref:a})})});w.displayName=v;var y="AvatarImage",x=e.forwardRef((t,s)=>{const{__scopeAvatar:i,src:u,onLoadingStatusChange:c=()=>{},...d}=t,v=S(y,i),g=function(r,{referrerPolicy:t,crossOrigin:n}){const a=f.useSyncExternalStore(l,()=>!0,()=>!1),s=e.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[u,c]=e.useState(()=>h(i,r));return o(()=>{c(h(i,r))},[i,r]),o(()=>{const e=e=>()=>{c(e)};if(!i)return;const r=e("loaded"),a=e("error");return i.addEventListener("load",r),i.addEventListener("error",a),t&&(i.referrerPolicy=t),"string"==typeof n&&(i.crossOrigin=n),()=>{i.removeEventListener("load",r),i.removeEventListener("error",a)}},[i,n,t]),u}(u,d),m=a(e=>{c(e),v.onImageLoadingStatusChange(e)});return o(()=>{"idle"!==g&&m(g)},[g,m]),"loaded"===g?r.jsx(n.img,{...d,ref:s,src:u}):null});x.displayName=y;var E="AvatarFallback",L=e.forwardRef((t,a)=>{const{__scopeAvatar:o,delayMs:s,...i}=t,u=S(E,o),[c,d]=e.useState(void 0===s);return e.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==u.imageLoadingStatus?r.jsx(n.span,{...i,ref:a}):null});function h(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}L.displayName=E;var j=w,A=x,_=L;export{_ as F,A as I,j as R,f as s};
